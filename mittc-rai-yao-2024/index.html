<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>How does Chain-of-Thought (CoT) stimulate the arithmetic reasoning ability of large models? Scientists provide an answer from the perspective of neuron activation | Ziyu Yao's Personal Website</title> <meta name="author" content="Ziyu Yao"> <meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/icon.png"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://littleyuyu.github.io/mittc-rai-yao-2024/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/">Ziyu Yao's Personal Website</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">Home</a> </li> <li class="nav-item "> <a class="nav-link" href="/group/">Group</a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/talks/">Talks</a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">Teaching</a> </li> <li class="nav-item "> <a class="nav-link" href="/services/">Services</a> </li> <li class="nav-item "> <a class="nav-link" href="/awards/">Awards</a> </li> <li class="nav-item "> <a class="nav-link" href="/open-source/">OpenSource</a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Others</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/prospective_students/">Prospective Students</a> <a class="dropdown-item" href="/why-mason-and-my-group/">Why Mason CS and Me</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/cv/">CV</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/group_reading/">Group Reading</a> </div> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">How does Chain-of-Thought (CoT) stimulate the arithmetic reasoning ability of large models? Scientists provide an answer from the perspective of neuron activation</h1> <p class="post-description"></p> </header> <article> <p><em>This article is an English translate of MIT Technology Review China’s article interviewing Rai and Yao’s ACL 2024 paper. The source article can be found at: https://www.mittrchina.com/news/detail/13615. The English translation is assisted with ChatGPT.</em></p> <p>Large models have received widespread attention over the past one to two years, particularly for their achievements in solving arithmetic and mathematical problems.</p> <p>In fact, as early as 2022, researchers from the Google Research team proposed the Chain-of-Thought (CoT) prompting method, which effectively improves the mathematical reasoning of large models. This method’s effectiveness was validated in few-shot learning contexts.</p> <p>Although this method was quickly adopted, researchers still know little about how it stimulates the arithmetic reasoning ability of large models.</p> <p>Previous explorations mainly focused on experimentally observing the impact of different components of CoT prompts on the arithmetic reasoning of large models.</p> <p>Specifically, they tried replacing or removing components of CoT prompts, such as removing the textual reasoning part and leaving only the critical mathematical formulas. By observing performance differences before and after the replacement or removal on existing arithmetic reasoning benchmarks, they assessed whether the removed part contributed significantly to the arithmetic reasoning ability of the large model.</p> <p>Although researchers have discovered several interesting phenomena, they still cannot explain how CoT stimulates the arithmetic reasoning ability of large models from the internal mechanism of neural networks.</p> <p>These studies also raised more questions, such as why different components of CoT bring different degrees of impact on the arithmetic reasoning of large models.</p> <p>To solve these problems, <a href="https://ziyuyao.org/" rel="external nofollow noopener" target="_blank">Professor Ziyu Yao</a> and her team at George Mason University conducted a series of explorations on the open-source Llama2 model from the perspective of “model interpretability” and proposed using “neuron activation” to systematically explain the phenomena observed in CoT.</p> <p>Recently, the related paper titled <a href="https://arxiv.org/pdf/2406.12288" rel="external nofollow noopener" target="_blank">“An Investigation of Neuron Activation as a Unified Lens to Explain Chain-of-Thought Eliciting Arithmetic Reasoning of LLMs”</a> was accepted by <a href="https://2024.aclweb.org/" rel="external nofollow noopener" target="_blank">the Annual Meeting of the Association for Computational Linguistics (ACL) 2024</a>.</p> <p>The research first focused on exploring whether the Transformer feedforward layer expressed neurons representing arithmetic reasoning concepts.</p> <p>The relevant concepts include arithmetic operations (addition, subtraction, multiplication, division), logical links in arithmetic reasoning (such as “therefore,” “next”), and other arithmetic calculation concepts (such as “percentage,” “algorithm,” “formula”).</p> <p>To discover the concepts represented by each neuron, they mapped neurons to the model’s vocabulary space and annotated the concept weights on each word after mapping. This way, they summarized the meanings represented by the neurons.</p> <p>They proposed using GPT-4 to read and understand neuron vocabulary mappings to automate this neuron annotation and discovery process.</p> <p>Experiments showed that the Transformer feedforward layer contains neurons representing arithmetic concepts. When these neurons are disrupted, the arithmetic reasoning ability of the large model is impaired.</p> <p>Researchers also observed a positive correlation between the activity level of these neurons and the arithmetic reasoning ability of the large model. This positive correlation explains why different prompt sentences bring different effects on the arithmetic reasoning of large models.</p> <p>Based on these neurons, the team systematically explained four CoT-related phenomena observed in previous studies:</p> <p>When the mathematical formula is removed from the CoT sample, leaving only the calculation result, the model’s arithmetic reasoning ability is impaired. When textual reasoning is removed from the CoT sample, leaving only the mathematical formula, the model’s ability is also impaired. When the CoT sample lacks operational diversity (e.g., all samples only involve addition), the model’s ability is impaired. When the operational result in the CoT sample is incorrect, but the reasoning process is correct, the model’s ability is not significantly affected. “We see that these phenomena can be explained by the activation level of neurons. For example, the number of activated neurons decreases before and after the mathematical formula is removed, explaining why the model’s arithmetic reasoning ability is impaired,” the researchers explained.</p> <p>From an application perspective, this achievement has two potential applications.</p> <p>First, it can be used to predict the ability of large models.</p> <p>In experiments, researchers have already seen a positive correlation between the activation level of neurons representing arithmetic reasoning and the arithmetic reasoning ability of the Llama2 model. This means that in the future, benchmark tests might not be necessary to predict a large model’s ability in specific tasks.</p> <p>Second, it can enhance or weaken the model’s ability by controlling the model’s internal mechanisms.</p> <p>“This application will become an important method to improve the safety of large models in the future. It also has the potential to achieve more efficient large model training by locating neurons with small data and then controlling neuron activation to achieve model training,” the research team said.</p> <p>In the second half of 2023, OpenAI proposed the “super alignment” proposal, aiming to help humans regulate and control superhuman AI models by encouraging scientific innovation. Predicting and controlling model capabilities are two important tasks to achieve this goal.</p> <p>“This result is a preliminary exploration in this direction, and we hope that we or other researchers can continue to explore in this direction,” the team said. This research is inspired by “mechanism interpretability.”</p> <p>This is a subfield of model interpretability that has rapidly emerged and received widespread attention in recent years. Unlike previous interpretability methods, mechanism interpretability attempts to understand the behavioral mechanisms of models by reverse engineering neural networks.</p> <p>Currently, this type of method has been applied to explain the behavior and structural functions of large models.</p> <p>“One particularly enlightening study for us is the exploration of the Transformer feedforward layer by researchers from the Allen Institute for AI and Bar-Ilan University in Israel,” the researchers said.</p> <p>This study found that during the process of predicting the next token, the Transformer feedforward layer constructs predictions by continuously reinforcing related concepts in the vocabulary space. This concept reinforcement is achieved by activating the neurons of the Transformer feedforward layer.</p> <p>“This mechanistic discovery inspired our hypothesis: CoT might effectively activate neurons representing arithmetic reasoning concepts in the Transformer feedforward layer, thereby enhancing the large model’s arithmetic reasoning ability,” the research team said.</p> <p>Based on this, the team conceived whether a mechanism exists that can directly enhance the arithmetic reasoning ability of language models, especially small-scale language models.</p> <p>The team pointed out: “This is very meaningful because small-scale language models enjoy unique computational efficiency, economic efficiency, and safety.”</p> <p>During the same period, they also saw some research improving the capabilities of small-scale language models in specific fields or tasks by collecting high-quality data or modifying training objective functions. However, the application of mechanism interpretability in this area is still in its emerging stage.</p> <p>Nevertheless, the team’s research process was not smooth and faced difficulties from the start.</p> <p>The biggest challenge was that they did not fully understand the internal mechanisms of language models’ arithmetic reasoning, and naturally could not realize the envisioned model control.</p> <p>“Therefore, my student Rai, the first author of the paper, and I decided to focus on explaining the arithmetic reasoning of language models first,” Ziyu Yao said.</p> <p>But they soon encountered the next challenge.</p> <p>“Arithmetic reasoning” is a highly abstract concept, while the language model’s predictive execution is at the specific token level.</p> <p>To understand the arithmetic reasoning ability of large models from the perspective of “concept reinforcement of neurons in the vocabulary space,” they first had to implement this highly abstract concept into specific token-level concepts.</p> <p>To bridge this gap, the team summarized several lower-level concepts related to arithmetic reasoning, including arithmetic operators, logical language expressions in arithmetic reasoning, and other arithmetic calculation concepts.</p> <p>By efficiently annotating and searching neurons expressing these lower-level concepts with GPT-4, they referred to previous studies to validate these discovered neurons.</p> <p>“Experimental results prove that these neurons indeed play an important role in the language model Llama2 we experimented with,” the team said.</p> <p>This gave them more confidence to continue exploring in this direction.</p> <p>They thought of using the activation state of these neurons to uniformly explain the effect of CoT on the arithmetic reasoning ability of large models, including explaining several phenomena observed in previous work.</p> <p>The results basically confirmed their hypothesis that the activation of relevant neurons could explain the stimulating effect of different components of CoT on the arithmetic reasoning ability of large models.</p> <p>However, the study also pointed out that neuron activation cannot explain all the arithmetic reasoning performances of language models. Additionally, whether the findings on Llama2 apply to other language model families remains to be further validated.</p> <p>It is also reported that Ziyu Yao’s lab currently has several fully-funded PhD positions for Fall 2025 enrollment. For details, please check our her website https://ziyuyao.org/ and email inquiries.</p> </article> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2025 Ziyu Yao. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js"></script> <script defer src="/assets/js/common.js"></script> <script defer src="/assets/js/copy_code.js" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>